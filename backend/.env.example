# ChainGuard Backend Environment Configuration
# Copy this file to .env and fill in your values

# ============================================
# SERVER CONFIGURATION
# ============================================
NODE_ENV=development
PORT=3000

# ============================================
# DATABASE (REQUIRED)
# ============================================
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://postgres:password@localhost:5432/chainguard

# ============================================
# SECURITY (REQUIRED)
# ============================================
# JWT Secret - MUST be set in production
# Generate with: openssl rand -base64 32
# MINIMUM 32 characters required
JWT_SECRET=your-super-secret-jwt-key-min-32-chars-CHANGE-ME

# ============================================
# REDIS (OPTIONAL)
# ============================================
# Required for horizontal scaling with multiple server instances
# Leave empty for single-server deployments
# REDIS_URL=redis://localhost:6379

# ============================================
# SOMNIA BLOCKCHAIN - TESTNET
# ============================================
# Default values provided - customize if needed
SOMNIA_TESTNET_RPC_URL=https://dream-rpc.somnia.network
SOMNIA_TESTNET_WS_URL=wss://dream-rpc.somnia.network/ws

# ============================================
# SOMNIA BLOCKCHAIN - MAINNET
# ============================================
# Default values provided - customize if needed
SOMNIA_MAINNET_RPC_URL=https://api.infra.mainnet.somnia.network
SOMNIA_MAINNET_WS_URL=wss://api.infra.mainnet.somnia.network/ws

# ============================================
# LLM VALIDATION (REQUIRED)
# ============================================
# N8N webhook URL for AI-powered vulnerability validation
# Example: https://your-n8n-instance.com/webhook/your-webhook-id
LLM_WEBHOOK_URL=
# ============================================
# FRONTEND (REQUIRED)
# ============================================
# Frontend application URL for CORS configuration
# Development: http://localhost:8080
# Production: https://your-frontend-domain.com
FRONTEND_URL=http://localhost:8080

# ============================================
# OPTIONAL CONFIGURATION
# ============================================
# Instance identifier for multi-server deployments
# INSTANCE_ID=backend-1

# Log level: error | warn | info | debug
LOG_LEVEL=info

# ============================================
# DEPLOYMENT CHECKLIST
# ============================================
# Before deploying to production, ensure:
# ✓ JWT_SECRET is set to a secure random string (min 32 chars)
# ✓ DATABASE_URL points to production database
# ✓ FRONTEND_URL matches your actual frontend domain
# ✓ LLM_WEBHOOK_URL is accessible from your server
# ✓ NODE_ENV is set to 'production'
# ✓ All sensitive values are kept secret (never commit .env file)